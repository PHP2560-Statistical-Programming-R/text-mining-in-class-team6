---
title: "Text Analyis"
output: github_document
---




# Your mission

Perform text analysis.

## Okay, I need more information

Perform sentiment analysis or topic modeling using text analysis methods as demonstrated in the pre-class work and in the readings.

## Okay, I need even more information.

Do the above. Can't think of a data source?

- `gutenbergr`
- `AssociatedPress` from the `topicmodels` package
- `NYTimes` or `USCongress` from the `RTextTools` package
- Harry Potter Complete 7 Books text
    ```
    if (packageVersion("devtools") < 1.6) {
  install.packages("devtools")
}

devtools::install_github("bradleyboehmke/harrypotter")
    ```
- [State of the Union speeches](https://pradeepadhokshaja.wordpress.com/2017/03/31/scraping-the-web-for-presdential-inaugural-addresses-using-rvest/)
- Scrape tweets using [`twitteR`](https://www.credera.com/blog/business-intelligence/twitter-analytics-using-r-part-1-extract-tweets/)

Analyze the text for sentiment OR topic. **You do not need to do both**. The datacamp courses and [Tidy Text Mining with R](http://tidytextmining.com/) are good starting points for templates to perform this type of analysis, but feel free to *expand beyond these examples*.

# Timelines and Task


We will spend the next 2 weeks working on analyzing textual data in R. You will do the following:

- Start with some text based data.
- Clean data and prepare it for analysis
- Ask questions about the data
- Answer these questions with the data using tables and graphics
- Each group member must have their own unique question that they code the answer for. 


## Gather data from Github and store the Harry Potter Complete 7 Books text in a datafrome
```{r}
# sevenbook is a tidy text format dataframe including 7 novels
sevenbook
```

## 1. Common words Analysis

** 1.1 What are top words in each book? **

```{r}
# Top 10 words in each novel
top_words

# Plot the bar chart of top words
graph_top

# From the bar charts, we find that main characters are Harry, Ron and Hermione.
# And most common words are usually related to characters.
```


** 1.2 What are common words in the series after removing characters' names? **
```{r}
# After removing the characters's names, plot the top 10 words in each novel

no_char_graph

# The bar charts show that "looked", "eyes", "time"... are in the top words
```

## 2. Character analysis: How does the proportion of the three main characters change along with the series / chapters? How does the proportion of other characters change along with the series?

```{r}
# Calculate the proportion of word in each novel

words_prop

# Calculate the words' proportion by chapters in each novel
words_prop_chapter
```

** 2.1 How does the proportion of the three main characters change along with the series? **

```{r}
# Plot the proportion of the three main characters in each book. 

prop_book_graph

## The propotion of harry and ron slightly decreases with the series, while the proportion of hermione slightly increases. In the second book (chamber of secrets) there is a relatively big gap between the proportion of Ron and Hermione.
```

** 2.2 How does the proportion of three main characters change along with the chapters in each book? **

```{r}
# Draw line plots of each novel to compare the proportion change 

prop_chapter_graph

## For the fans of ron or hermione, they can find in which chapter the character has a relatively high proportion. For example, in the first book (philosophers stone), Ron and Hermione appear from the 6th chapter.
```

** 2.3 How does the proportion of other characters change along with the series? **

```{r}

other_prop

# The line plot shows that the proportion of Hagrid goes down with the series. Overall, the proportion of Dumbledore goes up from 1 to 6 and it drops in series 7. 
```

